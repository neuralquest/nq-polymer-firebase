<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/polymerfire/firebase-query.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<!--
`my-blank-element`
yes

@demo demo/index.html
-->

<dom-module id="nq-home">
    <template>

        <style include="iron-flex iron-flex-alignment iron-positioning"></style>

        <style>
            :host {
                --app-primary-color: #4285f4;
                --app-secondary-color: black;

                display: block;
                height: 100%;
                position: relative;
            }

        </style>

<p>HOME</p>

        <firebase-query
                path="/documents"
                order-by-child="classId"
                equal-to="573435c23c6d3cd598a5a2df"
                data="{{views}}" log>
        </firebase-query>


    </template>

    <script>
        class NqHome extends Polymer.Element {
            static get is() {
                return 'nq-home';
            }

            static get properties() {
                return {
                    level: Number,
                    viewId: String,
                    docId: String,
                    schema:{
                        type:Object,
                        value: function() { return {}; },
                        //observer: 'dataChanged'
                    },
                    views:{
                        type:Array,
                        value: function() { return []; },
                        //observer: 'dataChanged'
                    }
                };
            }
            static get observers() {
                return [
                    'dataChanged(views.length)'
                ];
            }
            dataChanged(views, oldValue) {
                if(!views) return;
                views.forEach(function(view){
                    console.log('view:', view.rootQuery, view.query);
                });
            }
        }
        window.customElements.define(NqHome.is, NqHome);
    </script>
</dom-module>